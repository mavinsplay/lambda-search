{% extends "base.html" %} 
{% load i18n %}

{% block content %}
<div class="text-white">
  <h2>{% trans "Мой профиль" %}</h2>
  <form
    method="post"
    enctype="multipart/form-data"
    class="form-control bg-black p-5 text-white"
  >
    {% csrf_token %} 
    {{ form.as_p }}
    {% with form=profile_form %}
      {{ form.as_p }}
    {% endwith %}
    {% if request.user.profile.image %}
    <div>
      <img
        src="{{ request.user.profile.image.url }}"
        alt="Profile Image"
        class="img-thumbnail"
        style="max-width: 200px"
      />
    </div>
    {% else %}
    <p>{% trans "Изображение профиля не установлено." %}</p>
    {% endif %}
    <button type="submit" class="btn text-white bg-black border-white m-4">{% trans "Сохранить изменения" %}</button>
    <ul>
      <li><a href="{% url 'users:password-change' %}">{% trans "Изменить пароль" %}</a></li>
      <li><a href="{% url 'users:password-reset' %}">{% trans "Забыли пароль?" %}</a></li>
      <li><a href="{% url 'users:logout' %}">{% trans "Выйти" %}</a></li>
    </ul>
  </form>
</div>
{% if messages %}
  <div class="messages">
    {% for message in messages %}
    <div
    class="alert alert-{{ message.tags }} text-white bg-black border-white message text-center"
    role="alert"
    >
    {{ message }}
  </div>
  {% endfor %}
{% endif %}
</div>
{% endblock %}
